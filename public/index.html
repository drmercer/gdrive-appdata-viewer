<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Google Drive App Data Inpsector</title>
		<link rel="stylesheet" href="stylesheets/style.css">
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.7/angular.min.js"></script>
		<script src="build/bundle.js" charset="utf-8"></script>
	</head>
	<body ng-app="myApp" ng-controller="myCtrl">
		Welcome to Google Drive App Data Inspector.
		<div ng-show="!clientId">
			<ol>
				<li>Add <code>TODO: host name to your console thingy</code>.
				<li>Enter your Google Drive Client ID below.
			</ol>
			<form ng-submit="setClientId(wipClientId)">
				<input type="text" ng-model="wipClientId" placeholder="Google Drive Client ID"/>
				<button type="submit">Set Client ID</button>
			</form>
		</div>
		<div ng-show="clientId">
			Client ID set to <code class="clientId">{{clientId}}</code>.
			<a onclick="window.location.reload()">Reload the page</a> to use a
			different client ID.
		</div>

		<div ng-show="initializing">
			Loading...
		</div>
		<div ng-show="!initializing && !signedIn && clientId">
			You are not signed in.
			<button ng-click="signIn()">Sign In</button>
		</div>
		<div ng-show="!initializing && signedIn" ng-class="{loading: loading}">
			You are signed in!
			<button ng-click="signOut()">Sign Out</button>

			<div>
				<div class="breadcrumb" ng-repeat="f in stack">
					> {{f.name}}
				</div>
				<button ng-show="stack.length > 1" ng-click="goUp()">Go Up</button>
			</div>
			<section>
				<div ng-repeat="f in folders">
					<a ng-click="enterFolder(f)">Folder: {{f.name}}</a>
				</div>
				<div ng-show="!folders.length">
					No folders.
				</div>
				<div ng-repeat="f in files">
					File: {{f.name}}
				</div>
				<div ng-show="!files.length">
					No files.
				</div>
			</section>
		</div>
	</body>
</html>
